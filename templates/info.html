<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - StreamX File Download</title>
    <link rel="stylesheet" href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <!-- Mobile bottom navigation is sufficient, removed hamburger menu -->
    
    <div class="layout-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="d-flex align-items-center justify-content-between mb-4">
                <div class="d-flex align-items-center">
                    <i class="bi bi-play-circle-fill me-2" style="color: var(--neon-blue); font-size: 1.5rem;"></i>
                    <h1 class="m-0 fs-4 fw-bold cyberpunk-gradient-text">StreamX</h1>
                </div>
                <!-- Mobile close button (only visible on mobile) -->
                <button class="mobile-nav-close" id="mobileNavClose">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            
            <div class="nav flex-column mb-5">
                <a href="/" class="nav-link">
                    <i class="bi bi-house-door-fill"></i>
                    Home
                </a>
                <a href="/" class="nav-link" data-mobile-close="true">
                    <i class="bi bi-search"></i>
                    Search
                </a>
                <a href="/" class="nav-link" data-mobile-close="true">
                    <i class="bi bi-cloud-download"></i>
                    Downloads
                </a>
                <a href="/info" class="nav-link active">
                    <i class="bi bi-info-circle"></i>
                    API Info
                </a>
            </div>
            
            <div class="mt-auto">
                <div class="px-3 py-2 rounded" style="background-color: rgba(0,0,0,0.2);">
                    <div class="d-flex align-items-center">
                        <div class="rounded-circle me-2" style="width:8px; height:8px; background-color: var(--neon-blue);"></div>
                        <small class="text-muted">API Status: Online</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Mobile Top Navigation Bar -->
            <div class="mobile-top-nav">
                <div class="d-flex justify-content-between align-items-center p-2">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-play-circle-fill me-2" style="color: var(--neon-blue); font-size: 1.25rem;"></i>
                        <span class="fw-bold cyberpunk-gradient-text">StreamX</span>
                    </div>
                    <div>
                        <a href="/" class="btn btn-sm" style="background-color: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);">
                            <i class="bi bi-house-door"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="hero-bg mb-4">
                <div class="hero-content text-center">
                    <div class="mb-2">
                        <span class="badge text-bg-dark" style="border: 1px solid var(--neon-purple);">
                            <i class="bi bi-code-slash me-1" style="color: var(--neon-purple);"></i>
                            Developer Tools
                        </span>
                    </div>
                    
                    <h1 class="display-4 fw-bold mb-3">
                        <span class="cyberpunk-gradient-text">API Documentation</span>
                    </h1>
                    <p class="lead mb-4 text-secondary">
                        Build powerful applications with our cloud file search API
                    </p>
                </div>
            </div>

            <div class="container">
                <div class="row">
                    <div class="col-lg-3 mb-4">
                        <div class="sticky-top pt-4" style="top: 2rem;">
                            <div class="card mb-4">
                                <div class="card-body p-0">
                                    <div class="list-group list-group-flush">
                                        <a href="#introduction" class="nav-link border-bottom border-dark">
                                            <i class="bi bi-info-circle me-2" style="color: var(--neon-blue);"></i>
                                            Introduction
                                        </a>
                                        <a href="#endpoints" class="nav-link border-bottom border-dark">
                                            <i class="bi bi-hdd-network me-2" style="color: var(--neon-blue);"></i>
                                            Endpoints
                                        </a>
                                        <a href="#search-api" class="nav-link border-bottom border-dark">
                                            <i class="bi bi-search me-2" style="color: var(--neon-blue);"></i>
                                            Search API
                                        </a>
                                        <a href="#download-api" class="nav-link border-bottom border-dark">
                                            <i class="bi bi-download me-2" style="color: var(--neon-blue);"></i>
                                            Download API
                                        </a>
                                        <a href="#examples" class="nav-link border-bottom border-dark">
                                            <i class="bi bi-code-square me-2" style="color: var(--neon-blue);"></i>
                                            Examples
                                        </a>
                                        <a href="#errors" class="nav-link">
                                            <i class="bi bi-exclamation-triangle me-2" style="color: var(--neon-blue);"></i>
                                            Error Handling
                                        </a>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card p-3 text-center">
                                <div class="card-body">
                                    <i class="bi bi-rocket-takeoff display-5 mb-3" style="color: var(--neon-purple);"></i>
                                    <h5 class="fw-bold mb-3">Ready to Build?</h5>
                                    <p class="small text-muted mb-3">Start integrating our powerful API into your projects today</p>
                                    <a href="/" class="btn btn-sm search-btn w-100">
                                        <i class="bi bi-arrow-left me-2"></i> Back to App
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-9">
                        <section id="introduction" class="mb-5">
                            <div class="api-section">
                                <h2 class="mb-4 cyberpunk-gradient-text">Introduction</h2>
                                <p>
                                    The StreamX File Download API is a RESTful web service that allows you to search for files on the scloud.ninja platform and 
                                    retrieve direct download links for those files. This API is designed to be simple and easy to use.
                                </p>
                                <p>
                                    The API utilizes standard HTTP methods and returns responses in JSON format. All endpoints are publicly accessible and 
                                    do not require authentication.
                                </p>
                            </div>
                        </section>

                        <section id="endpoints" class="mb-5">
                            <div class="api-section">
                                <h2 class="mb-4 cyberpunk-gradient-text">API Endpoints</h2>
                                <p>The API provides the following endpoints:</p>

                                <div class="endpoint">
                                    <h4><span class="method-badge get">GET</span> /api/search</h4>
                                    <p>Search for files on scloud.ninja using a query string.</p>
                                </div>

                                <div class="endpoint">
                                    <h4><span class="method-badge get">GET</span> /api/download</h4>
                                    <p>Retrieve detailed information and a download link for a specific file using its ID.</p>
                                </div>

                                <div class="endpoint">
                                    <h4><span class="method-badge get">GET</span> /health</h4>
                                    <p>Health check endpoint to verify that the API is running.</p>
                                </div>
                            </div>
                        </section>

                        <section id="search-api" class="mb-5">
                            <div class="api-section">
                                <h2 class="mb-4 cyberpunk-gradient-text">Search API</h2>
                                <p>The search API allows you to find files based on a search query.</p>

                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h4 class="m-0">Request</h4>
                                    </div>
                                    <div class="card-body">
                                        <pre><code>GET /api/search?search=your_search_query</code></pre>
                                    </div>
                                </div>

                                <h5 class="mt-4 mb-3 fw-bold">Parameters</h5>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Parameter</th>
                                                <th>Type</th>
                                                <th>Required</th>
                                                <th>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><code>search</code></td>
                                                <td>string</td>
                                                <td>Yes</td>
                                                <td>The search term to find files (e.g., movie titles, file names)</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <h5 class="mt-4 mb-3 fw-bold">Response</h5>
                                <p>Returns an array of file objects with the following properties:</p>

                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Property</th>
                                                <th>Type</th>
                                                <th>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><code>name</code></td>
                                                <td>string</td>
                                                <td>The name of the file</td>
                                            </tr>
                                            <tr>
                                                <td><code>size</code></td>
                                                <td>string</td>
                                                <td>The size of the file (e.g., "1.2 GB")</td>
                                            </tr>
                                            <tr>
                                                <td><code>link</code></td>
                                                <td>string</td>
                                                <td>The file ID to be used with the download API</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div class="card mt-4">
                                    <div class="card-header">
                                        <h4 class="m-0">Example Response</h4>
                                    </div>
                                    <div class="card-body">
                                        <pre><code>[
  {
    "name": "The Batman (2022) 1080p.mkv",
    "size": "6.2 GB",
    "link": "j8f2h9s0d7f6g5h4j3k2l1"
  },
  {
    "name": "The Batman (2022) 720p.mp4",
    "size": "2.7 GB",
    "link": "a9s8d7f6g5h4j3k2l1p0o9"
  }
]</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="download-api" class="mb-5">
                            <div class="api-section">
                                <h2 class="mb-4 cyberpunk-gradient-text">Download API</h2>
                                <p>The download API allows you to retrieve detailed information and a download link for a specific file.</p>

                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h4 class="m-0">Request</h4>
                                    </div>
                                    <div class="card-body">
                                        <pre><code>GET /api/download?id=file_id</code></pre>
                                    </div>
                                </div>

                                <h5 class="mt-4 mb-3 fw-bold">Parameters</h5>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Parameter</th>
                                                <th>Type</th>
                                                <th>Required</th>
                                                <th>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><code>id</code></td>
                                                <td>string</td>
                                                <td>Yes</td>
                                                <td>The file ID (obtained from the search API results)</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <h5 class="mt-4 mb-3 fw-bold">Response</h5>
                                <p>Returns a single file object with the following properties:</p>

                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Property</th>
                                                <th>Type</th>
                                                <th>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><code>filename</code></td>
                                                <td>string</td>
                                                <td>The name of the file</td>
                                            </tr>
                                            <tr>
                                                <td><code>size</code></td>
                                                <td>string</td>
                                                <td>The size of the file (e.g., "1.2 GB")</td>
                                            </tr>
                                            <tr>
                                                <td><code>downloadLink</code></td>
                                                <td>string</td>
                                                <td>The direct URL to download the file</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div class="card mt-4">
                                    <div class="card-header">
                                        <h4 class="m-0">Example Response</h4>
                                    </div>
                                    <div class="card-body">
                                        <pre><code>{
  "filename": "The Batman (2022) 1080p.mkv",
  "size": "6.2 GB",
  "downloadLink": "https://new3.scloud.ninja/dl/j8f2h9s0d7f6g5h4j3k2l1"
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="examples" class="mb-5">
                            <div class="api-section">
                                <h2 class="mb-4 cyberpunk-gradient-text">Code Examples</h2>
                                
                                <h5 class="mt-4 mb-3 fw-bold">JavaScript</h5>
                                <div class="card mb-4">
                                    <div class="card-body">
                                        <pre><code>// Search for files
fetch('/api/search?search=batman')
  .then(response => response.json())
  .then(data => {
    console.log('Search results:', data);
    
    // Get download link for the first result
    if (data.length > 0) {
      const fileId = data[0].link;
      return fetch(`/api/download?id=${fileId}`);
    }
  })
  .then(response => response.json())
  .then(downloadData => {
    console.log('Download link:', downloadData.downloadLink);
    
    // Redirect to download or update UI
    window.location.href = downloadData.downloadLink;
  })
  .catch(error => console.error('Error:', error));</code></pre>
                                    </div>
                                </div>
                                
                                <h5 class="mt-4 mb-3 fw-bold">Python</h5>
                                <div class="card mb-4">
                                    <div class="card-body">
                                        <pre><code>import requests

# Search for files
search_response = requests.get('https://your-app-domain.com/api/search', params={
    'search': 'batman'
})
search_data = search_response.json()

print(f"Found {len(search_data)} results")

# Get download link for first result
if search_data:
    file_id = search_data[0]['link']
    download_response = requests.get('https://your-app-domain.com/api/download', params={
        'id': file_id
    })
    download_data = download_response.json()
    
    print(f"File: {download_data['filename']}")
    print(f"Size: {download_data['size']}")
    print(f"Download URL: {download_data['downloadLink']}")</code></pre>
                                    </div>
                                </div>
                                
                                <h5 class="mt-4 mb-3 fw-bold">cURL</h5>
                                <div class="card">
                                    <div class="card-body">
                                        <pre><code># Search for files
curl -X GET "https://your-app-domain.com/api/search?search=batman"

# Get download link for a specific file
curl -X GET "https://your-app-domain.com/api/download?id=j8f2h9s0d7f6g5h4j3k2l1"</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="errors" class="mb-5">
                            <div class="api-section">
                                <h2 class="mb-4 cyberpunk-gradient-text">Error Handling</h2>
                                <p>When errors occur, the API will return a JSON response with an error message and an appropriate HTTP status code.</p>
                                
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Status Code</th>
                                                <th>Error</th>
                                                <th>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>400</td>
                                                <td>Bad Request</td>
                                                <td>Missing required parameters or invalid input format</td>
                                            </tr>
                                            <tr>
                                                <td>404</td>
                                                <td>Not Found</td>
                                                <td>The requested resource was not found</td>
                                            </tr>
                                            <tr>
                                                <td>500</td>
                                                <td>Internal Server Error</td>
                                                <td>An error occurred while processing the request</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                
                                <div class="card mt-4">
                                    <div class="card-header">
                                        <h4 class="m-0">Example Error Response</h4>
                                    </div>
                                    <div class="card-body">
                                        <pre><code>{
  "error": "Failed to fetch search results"
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
            
            <!-- Mobile Bottom Navigation -->
            <div class="bottom-nav">
                <a href="/" class="nav-item">
                    <i class="bi bi-house-door-fill"></i>
                    <span>Home</span>
                </a>
                <a href="/" class="nav-item">
                    <i class="bi bi-search"></i>
                    <span>Search</span>
                </a>
                <a href="/" class="nav-item">
                    <i class="bi bi-cloud-download"></i>
                    <span>Results</span>
                </a>
                <a href="/info" class="nav-item active">
                    <i class="bi bi-info-circle"></i>
                    <span>API</span>
                </a>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="/static/js/script.js"></script>
</body>
</html>